<div class="profil-container">
  <mat-card class="profil-card">
    <mat-card-header>
      <mat-card-title>{{ 'PROFIL.TITLE' | translate }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="profilForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="fill" class="full-width" floatLabel="auto">
          <mat-label>{{ 'PROFIL.VEZETEK_NEV' | translate }}</mat-label>
          <input matInput formControlName="vezetekNev" type="text">
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width" floatLabel="auto">
          <mat-label>{{ 'PROFIL.KERESZT_NEV' | translate }}</mat-label>
          <input matInput formControlName="keresztNev" type="text">
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width" floatLabel="auto">
          <mat-label>{{ 'PROFIL.HAZ_ALAPTERULET' | translate }}</mat-label>
          <input matInput formControlName="hazAlapterulet"type="number" min="1">
        </mat-form-field>

        <mat-checkbox formControlName="szigeteles" class="full-width">
          {{ 'PROFIL.SZIGETELES' | translate }}
        </mat-checkbox>

        <mat-form-field appearance="fill" class="full-width" floatLabel="auto">
          <mat-label>{{ 'PROFIL.FUTES_TIPUSA' | translate }}</mat-label>
          <mat-select formControlName="futesTipusa">
            <mat-option *ngFor="let tipus of futesTipusok" [value]="tipus">
              {{ tipus }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <button type="button" mat-raised-button color="accent" class="mt-4" (click)="openLakasModal()">
          {{ 'PROFIL.LAKAS_HOZZAADAS' | translate }}
        </button>

        <button mat-raised-button color="primary" class="full-width save-button mt-3" [disabled]="!profilForm.valid">
          {{ 'PROFIL.SUBMIT' | translate }}
        </button>
      </form>


    </mat-card-content>
  </mat-card>



  <!-- Modal -->
  <ng-template #lakasDialog>
    <div class="bg-white p-6 rounded-2xl shadow-xl max-w-lg mx-auto">
      <!-- Modal címsor -->
      <h2 class="text-xl font-semibold text-gray-900 border-b pb-3 mb-4">
        {{ 'PROFIL.LAKAS_MODAL.TITLE' | translate }}
      </h2>

      <!-- Modal tartalom -->
      <mat-dialog-content class="space-y-4">
        <form [formGroup]="lakasForm" class="space-y-4">
          <!-- Lakás megnevezése -->
          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.LAKAS_NEV' | translate }}</mat-label>
            <input matInput formControlName="lakasNev" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.ORSZAG' | translate }}</mat-label>
            <input matInput formControlName="orszag" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.IRANYITOSZAM' | translate }}</mat-label>
            <input matInput formControlName="iranyitoszam" type="number" min="0" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.TELEPULES' | translate }}</mat-label>
            <input matInput formControlName="telepules" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.UTCA' | translate }}</mat-label>
            <input matInput formControlName="utca" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.HAZSZAM' | translate }}</mat-label>
            <input matInput formControlName="hazszam" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <!-- Építési mód -->
          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.EPITES_MOD' | translate }}</mat-label>
            <input matInput formControlName="epitesu" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <!-- Fűtési típus -->
          <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'CIM.FUTES_TIPUS' | translate }}</mat-label>
            <input matInput formControlName="futes" class="rounded-lg shadow-sm border-gray-300" />
          </mat-form-field>

          <!-- Szigetelés checkbox -->
          <mat-checkbox formControlName="szigeteles" class="w-full">
            {{ 'CIM.SZIGETELES' | translate }}
          </mat-checkbox>
        </form>
      </mat-dialog-content>

      <!-- Modal gombok -->
      <mat-dialog-actions class="flex justify-end space-x-4 mt-6">
        <button mat-button (click)="dialogRef.close()" class="px-4 py-2 text-gray-600 bg-gray-200 hover:bg-gray-300 rounded-lg">
          {{ 'PROFIL.LAKAS_MODAL.MEGSE' | translate }}
        </button>
        <button mat-raised-button color="primary" (click)="saveLakas()" class="px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg">
          {{ 'PROFIL.LAKAS_MODAL.MENT' | translate }}
        </button>
      </mat-dialog-actions>
    </div>
  </ng-template>

</div>
